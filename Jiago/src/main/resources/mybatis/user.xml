<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.itbank.repository.UserDAO">


	<select id="login" parameterType="user" resultType="user">
		select * from member where user_id=#{user_id} and user_pw=#{user_pw}
	
	</select>




	<insert id="join" parameterType="user">
		insert into member 
		    (user_id, user_pw, user_name, user_birth, user_gender,
		     user_address, user_phone, user_email, user_job, user_type) 
		    values (#{user_id}, #{user_pw}, #{user_name}, #{user_birth},#{user_gender}, #{user_address}, #{user_phone},
		    #{user_email}, #{user_job}, #{user_type})
	</insert>

	<select id="checkRealMail" parameterType="String" resultType="String">
		select user_email from member where user_email=#{email}
	</select>


	<select id="getId" parameterType="String" resultType="String">
		select user_id from member where user_email=#{email}
	</select>

	<select id="checkId" parameterType="String" resultType="HashMap">
		select user_id,user_email from member where user_id=#{id}
	</select>

	<update id="update" parameterType="user">
		update member 
			set user_address=#{user_address},
		 	user_phone=#{user_phone},
			user_email=#{user_email},
			user_job=#{user_job}
		 		 where user_idx = #{user_idx}
	</update>

</mapper>
